var atomicassets=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=14)}([function(t,e,r){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(r(4)),u=i(r(10)),a=i(r(5)),s=i(r(19));e.packInteger=function(t,e){void 0===e&&(e=8);var r=[],n=a.default(t);if(n.lesser(0))throw new u.default("cant pack negative integer");if(e>8)throw new u.default("cant pack integer greater than 64bit");if(n.greaterOrEquals(a.default(2).pow(8*e)))throw new u.default("integer too large");for(var i=0;i<e+1;i++){var o=void 0;if(i===e)o=n.and(255),n=n.shiftRight(8),r.push(o.toJSNumber());else{if(o=n.and(127),(n=n.shiftRight(7)).equals(0)){r.push(o.toJSNumber());break}r.push(o.toJSNumber()+128)}}return new Uint8Array(r)},e.unpackInteger=function(t,e){void 0===e&&(e=8);var r=a.default(0);if(e>8)throw new o.default("cant unpack integer greater than 64bit");for(var n=0;n<e+1;n++){if(t.position>=t.data.length)throw new o.default("failed to unpack integer");var i=a.default(t.data[t.position]);if(t.position+=1,i.lesser(128)||n===e){r=r.plus(i.shiftLeft(7*n));break}r=r.plus(i.and(127).shiftLeft(7*n))}return r},e.signInteger=function(t,e){var r=a.default(t);if(r.greaterOrEquals(a.default(2).pow(8*e-1)))throw new Error("cannot sign integer: too big");return r.greaterOrEquals(0)?r:r.negate().xor(a.default(2).pow(8*e).minus(1)).plus(1)},e.unsignInteger=function(t,e){var r=a.default(t);if(r.greater(a.default(2).pow(8*e)))throw new Error("cannot unsign integer: too big");return r.greater(a.default(2).pow(8*e-1))?r.minus(1).xor(a.default(2).pow(8*e).minus(1)).negate():r},e.zigzag_encode=function(t,e){void 0===e&&(e=8);var r=a.default(t),n=r.shiftRight(8*e-1).xor(r.shiftLeft(1));if(n.greaterOrEquals(a.default(2).pow(8*e)))throw new Error("zigzag encode: number too big");return n},e.zigzag_decode=function(t,e){void 0===e&&(e=8);var r=a.default(t),n=r.shiftRight(1).xor(a.default(-1).multiply(r.and(1)));if(n.greaterOrEquals(a.default(2).pow(8*e-1)))throw new Error("zigzag encode: number too big");return n};var c=new s.default("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");e.base58_decode=function(t){return c.decode(t)},e.base58_encode=function(t){return c.encode(t)},e.hex_decode=function(t){var e=t.match(/.{1,2}/g);return e?new Uint8Array(e.map((function(t){return parseInt(t,16)}))):new Uint8Array(0)},e.hex_encode=function(t){return t.reduce((function(t,e){return t+e.toString(16).padStart(2,"0")}),"")},e.concat_byte_arrays=function(t){var e,r,i=new Uint8Array(t.reduce((function(t,e){return t+e.length}),0)),o=0;try{for(var u=n(t),a=u.next();!a.done;a=u.next()){var s=a.value;i.set(s,o),o+=s.length}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}return i},e.int_to_byte_vector=function(t){for(var e=[],r=a.default(t);r.notEquals(0);)e.push(r.and(255).toJSNumber()),r=r.shiftRight(8);return new Uint8Array(e)},e.byte_vector_to_int=function(t){for(var e=a.default(0),r=0;r<t.length;r++)e=e.plus(a.default(t[r]).shiftLeft(8*r));return e.toJSNumber()}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(9)),o=r(0),u=n(r(31));e.serialize=function(t,e){var r=e.serialize(t);return e instanceof i.default?r.slice(0,r.length-1):r},e.deserialize=function(t,e){e instanceof i.default&&(t=o.concat_byte_arrays([t,o.packInteger(0)]));var r=new u.default(t,0);return e.deserialize(r)}},function(t,e,r){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(r(3)),u=i(r(9)),a=i(r(20)),s=i(r(30));function c(t,e){var r,i,o=[],a=e[t];void 0===a&&(a=[]),delete e[t];try{for(var s=n(a),c=s.next();!c.done;c=s.next()){var f=c.value;o.push({name:f.name,value:l(f.type,e)})}}catch(t){r={error:t}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return new u.default(o)}function l(t,e){if(t.endsWith("[]"))return new s.default(l(t.substring(0,t.length-2),e));if(t.startsWith("object{")&&t.endsWith("}")){var r=parseInt(t.substring(7,t.length-1),10);if(isNaN(r))throw new o.default("invalid type '"+t+"'");return c(r,e)}return new a.default(t)}e.ObjectSchema=function(t){var e,r,i={};try{for(var o=n(t),u=o.next();!u.done;u=o.next()){var a=u.value,s=void 0===a.parent?0:a.parent;void 0===i[s]&&(i[s]=[]),i[s].push(a)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return c(0,i)}},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(Error);e.default=o},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(Error);e.default=o},function(t,e,r){(function(t){var n,i=function(t){"use strict";var e=9007199254740992,r=l(e),n="function"==typeof BigInt;function o(t,e,r,n){return void 0===t?o[0]:void 0!==e&&(10!=+e||r)?T(t,e,r,n):C(t)}function u(t,e){this.value=t,this.sign=e,this.isSmall=!1}function a(t){this.value=t,this.sign=t<0,this.isSmall=!0}function s(t){this.value=t}function c(t){return-e<t&&t<e}function l(t){return t<1e7?[t]:t<1e14?[t%1e7,Math.floor(t/1e7)]:[t%1e7,Math.floor(t/1e7)%1e7,Math.floor(t/1e14)]}function f(t){p(t);var e=t.length;if(e<4&&M(t,r)<0)switch(e){case 0:return 0;case 1:return t[0];case 2:return t[0]+1e7*t[1];default:return t[0]+1e7*(t[1]+1e7*t[2])}return t}function p(t){for(var e=t.length;0===t[--e];);t.length=e+1}function h(t){for(var e=new Array(t),r=-1;++r<t;)e[r]=0;return e}function d(t){return t>0?Math.floor(t):Math.ceil(t)}function v(t,e){var r,n,i=t.length,o=e.length,u=new Array(i),a=0;for(n=0;n<o;n++)a=(r=t[n]+e[n]+a)>=1e7?1:0,u[n]=r-1e7*a;for(;n<i;)a=1e7===(r=t[n]+a)?1:0,u[n++]=r-1e7*a;return a>0&&u.push(a),u}function y(t,e){return t.length>=e.length?v(t,e):v(e,t)}function _(t,e){var r,n,i=t.length,o=new Array(i);for(n=0;n<i;n++)r=t[n]-1e7+e,e=Math.floor(r/1e7),o[n]=r-1e7*e,e+=1;for(;e>0;)o[n++]=e%1e7,e=Math.floor(e/1e7);return o}function b(t,e){var r,n,i=t.length,o=e.length,u=new Array(i),a=0;for(r=0;r<o;r++)(n=t[r]-a-e[r])<0?(n+=1e7,a=1):a=0,u[r]=n;for(r=o;r<i;r++){if(!((n=t[r]-a)<0)){u[r++]=n;break}n+=1e7,u[r]=n}for(;r<i;r++)u[r]=t[r];return p(u),u}function w(t,e,r){var n,i,o=t.length,s=new Array(o),c=-e;for(n=0;n<o;n++)i=t[n]+c,c=Math.floor(i/1e7),i%=1e7,s[n]=i<0?i+1e7:i;return"number"==typeof(s=f(s))?(r&&(s=-s),new a(s)):new u(s,r)}function g(t,e){var r,n,i,o,u=t.length,a=e.length,s=h(u+a);for(i=0;i<u;++i){o=t[i];for(var c=0;c<a;++c)r=o*e[c]+s[i+c],n=Math.floor(r/1e7),s[i+c]=r-1e7*n,s[i+c+1]+=n}return p(s),s}function m(t,e){var r,n,i=t.length,o=new Array(i),u=0;for(n=0;n<i;n++)r=t[n]*e+u,u=Math.floor(r/1e7),o[n]=r-1e7*u;for(;u>0;)o[n++]=u%1e7,u=Math.floor(u/1e7);return o}function x(t,e){for(var r=[];e-- >0;)r.push(0);return r.concat(t)}function O(t,e,r){return new u(t<1e7?m(e,t):g(e,l(t)),r)}function A(t){var e,r,n,i,o=t.length,u=h(o+o);for(n=0;n<o;n++){r=0-(i=t[n])*i;for(var a=n;a<o;a++)e=i*t[a]*2+u[n+a]+r,r=Math.floor(e/1e7),u[n+a]=e-1e7*r;u[n+o]=r}return p(u),u}function P(t,e){var r,n,i,o,u=t.length,a=h(u);for(i=0,r=u-1;r>=0;--r)i=(o=1e7*i+t[r])-(n=d(o/e))*e,a[r]=0|n;return[a,0|i]}function S(t,e){var r,i=C(e);if(n)return[new s(t.value/i.value),new s(t.value%i.value)];var c,v=t.value,y=i.value;if(0===y)throw new Error("Cannot divide by zero");if(t.isSmall)return i.isSmall?[new a(d(v/y)),new a(v%y)]:[o[0],t];if(i.isSmall){if(1===y)return[t,o[0]];if(-1==y)return[t.negate(),o[0]];var _=Math.abs(y);if(_<1e7){c=f((r=P(v,_))[0]);var w=r[1];return t.sign&&(w=-w),"number"==typeof c?(t.sign!==i.sign&&(c=-c),[new a(c),new a(w)]):[new u(c,t.sign!==i.sign),new a(w)]}y=l(_)}var g=M(v,y);if(-1===g)return[o[0],t];if(0===g)return[o[t.sign===i.sign?1:-1],o[0]];c=(r=v.length+y.length<=200?function(t,e){var r,n,i,o,u,a,s,c=t.length,l=e.length,p=h(e.length),d=e[l-1],v=Math.ceil(1e7/(2*d)),y=m(t,v),_=m(e,v);for(y.length<=c&&y.push(0),_.push(0),d=_[l-1],n=c-l;n>=0;n--){for(r=1e7-1,y[n+l]!==d&&(r=Math.floor((1e7*y[n+l]+y[n+l-1])/d)),i=0,o=0,a=_.length,u=0;u<a;u++)i+=r*_[u],s=Math.floor(i/1e7),o+=y[n+u]-(i-1e7*s),i=s,o<0?(y[n+u]=o+1e7,o=-1):(y[n+u]=o,o=0);for(;0!==o;){for(r-=1,i=0,u=0;u<a;u++)(i+=y[n+u]-1e7+_[u])<0?(y[n+u]=i+1e7,i=0):(y[n+u]=i,i=1);o+=i}p[n]=r}return y=P(y,v)[0],[f(p),f(y)]}(v,y):function(t,e){for(var r,n,i,o,u,a=t.length,s=e.length,c=[],l=[];a;)if(l.unshift(t[--a]),p(l),M(l,e)<0)c.push(0);else{i=1e7*l[(n=l.length)-1]+l[n-2],o=1e7*e[s-1]+e[s-2],n>s&&(i=1e7*(i+1)),r=Math.ceil(i/o);do{if(M(u=m(e,r),l)<=0)break;r--}while(r);c.push(r),l=b(l,u)}return c.reverse(),[f(c),f(l)]}(v,y))[0];var x=t.sign!==i.sign,O=r[1],A=t.sign;return"number"==typeof c?(x&&(c=-c),c=new a(c)):c=new u(c,x),"number"==typeof O?(A&&(O=-O),O=new a(O)):O=new u(O,A),[c,O]}function M(t,e){if(t.length!==e.length)return t.length>e.length?1:-1;for(var r=t.length-1;r>=0;r--)if(t[r]!==e[r])return t[r]>e[r]?1:-1;return 0}function E(t){var e=t.abs();return!e.isUnit()&&(!!(e.equals(2)||e.equals(3)||e.equals(5))||!(e.isEven()||e.isDivisibleBy(3)||e.isDivisibleBy(5))&&(!!e.lesser(49)||void 0))}function z(t,e){for(var r,n,o,u=t.prev(),a=u,s=0;a.isEven();)a=a.divide(2),s++;t:for(n=0;n<e.length;n++)if(!t.lesser(e[n])&&!(o=i(e[n]).modPow(a,t)).isUnit()&&!o.equals(u)){for(r=s-1;0!=r;r--){if((o=o.square().mod(t)).isUnit())return!1;if(o.equals(u))continue t}return!1}return!0}u.prototype=Object.create(o.prototype),a.prototype=Object.create(o.prototype),s.prototype=Object.create(o.prototype),u.prototype.add=function(t){var e=C(t);if(this.sign!==e.sign)return this.subtract(e.negate());var r=this.value,n=e.value;return e.isSmall?new u(_(r,Math.abs(n)),this.sign):new u(y(r,n),this.sign)},u.prototype.plus=u.prototype.add,a.prototype.add=function(t){var e=C(t),r=this.value;if(r<0!==e.sign)return this.subtract(e.negate());var n=e.value;if(e.isSmall){if(c(r+n))return new a(r+n);n=l(Math.abs(n))}return new u(_(n,Math.abs(r)),r<0)},a.prototype.plus=a.prototype.add,s.prototype.add=function(t){return new s(this.value+C(t).value)},s.prototype.plus=s.prototype.add,u.prototype.subtract=function(t){var e=C(t);if(this.sign!==e.sign)return this.add(e.negate());var r=this.value,n=e.value;return e.isSmall?w(r,Math.abs(n),this.sign):function(t,e,r){var n;return M(t,e)>=0?n=b(t,e):(n=b(e,t),r=!r),"number"==typeof(n=f(n))?(r&&(n=-n),new a(n)):new u(n,r)}(r,n,this.sign)},u.prototype.minus=u.prototype.subtract,a.prototype.subtract=function(t){var e=C(t),r=this.value;if(r<0!==e.sign)return this.add(e.negate());var n=e.value;return e.isSmall?new a(r-n):w(n,Math.abs(r),r>=0)},a.prototype.minus=a.prototype.subtract,s.prototype.subtract=function(t){return new s(this.value-C(t).value)},s.prototype.minus=s.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},a.prototype.negate=function(){var t=this.sign,e=new a(-this.value);return e.sign=!t,e},s.prototype.negate=function(){return new s(-this.value)},u.prototype.abs=function(){return new u(this.value,!1)},a.prototype.abs=function(){return new a(Math.abs(this.value))},s.prototype.abs=function(){return new s(this.value>=0?this.value:-this.value)},u.prototype.multiply=function(t){var e,r,n,i=C(t),a=this.value,s=i.value,c=this.sign!==i.sign;if(i.isSmall){if(0===s)return o[0];if(1===s)return this;if(-1===s)return this.negate();if((e=Math.abs(s))<1e7)return new u(m(a,e),c);s=l(e)}return r=a.length,n=s.length,new u(-.012*r-.012*n+15e-6*r*n>0?function t(e,r){var n=Math.max(e.length,r.length);if(n<=30)return g(e,r);n=Math.ceil(n/2);var i=e.slice(n),o=e.slice(0,n),u=r.slice(n),a=r.slice(0,n),s=t(o,a),c=t(i,u),l=t(y(o,i),y(a,u)),f=y(y(s,x(b(b(l,s),c),n)),x(c,2*n));return p(f),f}(a,s):g(a,s),c)},u.prototype.times=u.prototype.multiply,a.prototype._multiplyBySmall=function(t){return c(t.value*this.value)?new a(t.value*this.value):O(Math.abs(t.value),l(Math.abs(this.value)),this.sign!==t.sign)},u.prototype._multiplyBySmall=function(t){return 0===t.value?o[0]:1===t.value?this:-1===t.value?this.negate():O(Math.abs(t.value),this.value,this.sign!==t.sign)},a.prototype.multiply=function(t){return C(t)._multiplyBySmall(this)},a.prototype.times=a.prototype.multiply,s.prototype.multiply=function(t){return new s(this.value*C(t).value)},s.prototype.times=s.prototype.multiply,u.prototype.square=function(){return new u(A(this.value),!1)},a.prototype.square=function(){var t=this.value*this.value;return c(t)?new a(t):new u(A(l(Math.abs(this.value))),!1)},s.prototype.square=function(t){return new s(this.value*this.value)},u.prototype.divmod=function(t){var e=S(this,t);return{quotient:e[0],remainder:e[1]}},s.prototype.divmod=a.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(t){return S(this,t)[0]},s.prototype.over=s.prototype.divide=function(t){return new s(this.value/C(t).value)},a.prototype.over=a.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(t){return S(this,t)[1]},s.prototype.mod=s.prototype.remainder=function(t){return new s(this.value%C(t).value)},a.prototype.remainder=a.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(t){var e,r,n,i=C(t),u=this.value,s=i.value;if(0===s)return o[1];if(0===u)return o[0];if(1===u)return o[1];if(-1===u)return i.isEven()?o[1]:o[-1];if(i.sign)return o[0];if(!i.isSmall)throw new Error("The exponent "+i.toString()+" is too large.");if(this.isSmall&&c(e=Math.pow(u,s)))return new a(d(e));for(r=this,n=o[1];!0&s&&(n=n.times(r),--s),0!==s;)s/=2,r=r.square();return n},a.prototype.pow=u.prototype.pow,s.prototype.pow=function(t){var e=C(t),r=this.value,n=e.value,i=BigInt(0),u=BigInt(1),a=BigInt(2);if(n===i)return o[1];if(r===i)return o[0];if(r===u)return o[1];if(r===BigInt(-1))return e.isEven()?o[1]:o[-1];if(e.isNegative())return new s(i);for(var c=this,l=o[1];(n&u)===u&&(l=l.times(c),--n),n!==i;)n/=a,c=c.square();return l},u.prototype.modPow=function(t,e){if(t=C(t),(e=C(e)).isZero())throw new Error("Cannot take modPow with modulus 0");var r=o[1],n=this.mod(e);for(t.isNegative()&&(t=t.multiply(o[-1]),n=n.modInv(e));t.isPositive();){if(n.isZero())return o[0];t.isOdd()&&(r=r.multiply(n).mod(e)),t=t.divide(2),n=n.square().mod(e)}return r},s.prototype.modPow=a.prototype.modPow=u.prototype.modPow,u.prototype.compareAbs=function(t){var e=C(t),r=this.value,n=e.value;return e.isSmall?1:M(r,n)},a.prototype.compareAbs=function(t){var e=C(t),r=Math.abs(this.value),n=e.value;return e.isSmall?r===(n=Math.abs(n))?0:r>n?1:-1:-1},s.prototype.compareAbs=function(t){var e=this.value,r=C(t).value;return(e=e>=0?e:-e)===(r=r>=0?r:-r)?0:e>r?1:-1},u.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=C(t),r=this.value,n=e.value;return this.sign!==e.sign?e.sign?1:-1:e.isSmall?this.sign?-1:1:M(r,n)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,a.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=C(t),r=this.value,n=e.value;return e.isSmall?r==n?0:r>n?1:-1:r<0!==e.sign?r<0?-1:1:r<0?1:-1},a.prototype.compareTo=a.prototype.compare,s.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=this.value,r=C(t).value;return e===r?0:e>r?1:-1},s.prototype.compareTo=s.prototype.compare,u.prototype.equals=function(t){return 0===this.compare(t)},s.prototype.eq=s.prototype.equals=a.prototype.eq=a.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(t){return 0!==this.compare(t)},s.prototype.neq=s.prototype.notEquals=a.prototype.neq=a.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(t){return this.compare(t)>0},s.prototype.gt=s.prototype.greater=a.prototype.gt=a.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(t){return this.compare(t)<0},s.prototype.lt=s.prototype.lesser=a.prototype.lt=a.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(t){return this.compare(t)>=0},s.prototype.geq=s.prototype.greaterOrEquals=a.prototype.geq=a.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(t){return this.compare(t)<=0},s.prototype.leq=s.prototype.lesserOrEquals=a.prototype.leq=a.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return 0==(1&this.value[0])},a.prototype.isEven=function(){return 0==(1&this.value)},s.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},u.prototype.isOdd=function(){return 1==(1&this.value[0])},a.prototype.isOdd=function(){return 1==(1&this.value)},s.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},u.prototype.isPositive=function(){return!this.sign},a.prototype.isPositive=function(){return this.value>0},s.prototype.isPositive=a.prototype.isPositive,u.prototype.isNegative=function(){return this.sign},a.prototype.isNegative=function(){return this.value<0},s.prototype.isNegative=a.prototype.isNegative,u.prototype.isUnit=function(){return!1},a.prototype.isUnit=function(){return 1===Math.abs(this.value)},s.prototype.isUnit=function(){return this.abs().value===BigInt(1)},u.prototype.isZero=function(){return!1},a.prototype.isZero=function(){return 0===this.value},s.prototype.isZero=function(){return this.value===BigInt(0)},u.prototype.isDivisibleBy=function(t){var e=C(t);return!e.isZero()&&(!!e.isUnit()||(0===e.compareAbs(2)?this.isEven():this.mod(e).isZero()))},s.prototype.isDivisibleBy=a.prototype.isDivisibleBy=u.prototype.isDivisibleBy,u.prototype.isPrime=function(t){var e=E(this);if(void 0!==e)return e;var r=this.abs(),n=r.bitLength();if(n<=64)return z(r,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var o=Math.log(2)*n.toJSNumber(),u=Math.ceil(!0===t?2*Math.pow(o,2):o),a=[],s=0;s<u;s++)a.push(i(s+2));return z(r,a)},s.prototype.isPrime=a.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(t,e){var r=E(this);if(void 0!==r)return r;for(var n=this.abs(),o=void 0===t?5:t,u=[],a=0;a<o;a++)u.push(i.randBetween(2,n.minus(2),e));return z(n,u)},s.prototype.isProbablePrime=a.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(t){for(var e,r,n,o=i.zero,u=i.one,a=C(t),s=this.abs();!s.isZero();)e=a.divide(s),r=o,n=a,o=u,a=s,u=r.subtract(e.multiply(u)),s=n.subtract(e.multiply(s));if(!a.isUnit())throw new Error(this.toString()+" and "+t.toString()+" are not co-prime");return-1===o.compare(0)&&(o=o.add(t)),this.isNegative()?o.negate():o},s.prototype.modInv=a.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var t=this.value;return this.sign?w(t,1,this.sign):new u(_(t,1),this.sign)},a.prototype.next=function(){var t=this.value;return t+1<e?new a(t+1):new u(r,!1)},s.prototype.next=function(){return new s(this.value+BigInt(1))},u.prototype.prev=function(){var t=this.value;return this.sign?new u(_(t,1),!0):w(t,1,this.sign)},a.prototype.prev=function(){var t=this.value;return t-1>-e?new a(t-1):new u(r,!0)},s.prototype.prev=function(){return new s(this.value-BigInt(1))};for(var j=[1];2*j[j.length-1]<=1e7;)j.push(2*j[j.length-1]);var k=j.length,q=j[k-1];function D(t){return Math.abs(t)<=1e7}function N(t,e,r){e=C(e);for(var n=t.isNegative(),o=e.isNegative(),u=n?t.not():t,a=o?e.not():e,s=0,c=0,l=null,f=null,p=[];!u.isZero()||!a.isZero();)s=(l=S(u,q))[1].toJSNumber(),n&&(s=q-1-s),c=(f=S(a,q))[1].toJSNumber(),o&&(c=q-1-c),u=l[0],a=f[0],p.push(r(s,c));for(var h=0!==r(n?1:0,o?1:0)?i(-1):i(0),d=p.length-1;d>=0;d-=1)h=h.multiply(q).add(i(p[d]));return h}u.prototype.shiftLeft=function(t){var e=C(t).toJSNumber();if(!D(e))throw new Error(String(e)+" is too large for shifting.");if(e<0)return this.shiftRight(-e);var r=this;if(r.isZero())return r;for(;e>=k;)r=r.multiply(q),e-=k-1;return r.multiply(j[e])},s.prototype.shiftLeft=a.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(t){var e,r=C(t).toJSNumber();if(!D(r))throw new Error(String(r)+" is too large for shifting.");if(r<0)return this.shiftLeft(-r);for(var n=this;r>=k;){if(n.isZero()||n.isNegative()&&n.isUnit())return n;n=(e=S(n,q))[1].isNegative()?e[0].prev():e[0],r-=k-1}return(e=S(n,j[r]))[1].isNegative()?e[0].prev():e[0]},s.prototype.shiftRight=a.prototype.shiftRight=u.prototype.shiftRight,u.prototype.not=function(){return this.negate().prev()},s.prototype.not=a.prototype.not=u.prototype.not,u.prototype.and=function(t){return N(this,t,(function(t,e){return t&e}))},s.prototype.and=a.prototype.and=u.prototype.and,u.prototype.or=function(t){return N(this,t,(function(t,e){return t|e}))},s.prototype.or=a.prototype.or=u.prototype.or,u.prototype.xor=function(t){return N(this,t,(function(t,e){return t^e}))},s.prototype.xor=a.prototype.xor=u.prototype.xor;function B(t){var e=t.value,r="number"==typeof e?e|1<<30:"bigint"==typeof e?e|BigInt(1<<30):e[0]+1e7*e[1]|1073758208;return r&-r}function I(t,e){return t=C(t),e=C(e),t.greater(e)?t:e}function U(t,e){return t=C(t),e=C(e),t.lesser(e)?t:e}function L(t,e){if(t=C(t).abs(),e=C(e).abs(),t.equals(e))return t;if(t.isZero())return e;if(e.isZero())return t;for(var r,n,i=o[1];t.isEven()&&e.isEven();)r=U(B(t),B(e)),t=t.divide(r),e=e.divide(r),i=i.multiply(r);for(;t.isEven();)t=t.divide(B(t));do{for(;e.isEven();)e=e.divide(B(e));t.greater(e)&&(n=e,e=t,t=n),e=e.subtract(t)}while(!e.isZero());return i.isUnit()?t:t.multiply(i)}u.prototype.bitLength=function(){var t=this;return t.compareTo(i(0))<0&&(t=t.negate().subtract(i(1))),0===t.compareTo(i(0))?i(0):i(function t(e,r){if(r.compareTo(e)<=0){var n=t(e,r.square(r)),o=n.p,u=n.e,a=o.multiply(r);return a.compareTo(e)<=0?{p:a,e:2*u+1}:{p:o,e:2*u}}return{p:i(1),e:0}}(t,i(2)).e).add(i(1))},s.prototype.bitLength=a.prototype.bitLength=u.prototype.bitLength;var T=function(t,e,r,n){r=r||"0123456789abcdefghijklmnopqrstuvwxyz",t=String(t),n||(t=t.toLowerCase(),r=r.toLowerCase());var i,o=t.length,u=Math.abs(e),a={};for(i=0;i<r.length;i++)a[r[i]]=i;for(i=0;i<o;i++){if("-"!==(l=t[i])&&(l in a&&a[l]>=u)){if("1"===l&&1===u)continue;throw new Error(l+" is not a valid digit in base "+e+".")}}e=C(e);var s=[],c="-"===t[0];for(i=c?1:0;i<t.length;i++){var l;if((l=t[i])in a)s.push(C(a[l]));else{if("<"!==l)throw new Error(l+" is not a valid character");var f=i;do{i++}while(">"!==t[i]&&i<t.length);s.push(C(t.slice(f+1,i)))}}return F(s,e,c)};function F(t,e,r){var n,i=o[0],u=o[1];for(n=t.length-1;n>=0;n--)i=i.add(t[n].times(u)),u=u.times(e);return r?i.negate():i}function J(t,e){if((e=i(e)).isZero()){if(t.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(e.equals(-1)){if(t.isZero())return{value:[0],isNegative:!1};if(t.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-t.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(t.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var n=!1;if(t.isNegative()&&e.isPositive()&&(n=!0,t=t.abs()),e.isUnit())return t.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(t.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:n};for(var o,u=[],a=t;a.isNegative()||a.compareAbs(e)>=0;){o=a.divmod(e),a=o.quotient;var s=o.remainder;s.isNegative()&&(s=e.minus(s).abs(),a=a.next()),u.push(s.toJSNumber())}return u.push(a.toJSNumber()),{value:u.reverse(),isNegative:n}}function R(t,e,r){var n=J(t,e);return(n.isNegative?"-":"")+n.value.map((function(t){return function(t,e){return t<(e=e||"0123456789abcdefghijklmnopqrstuvwxyz").length?e[t]:"<"+t+">"}(t,r)})).join("")}function Z(t){if(c(+t)){var e=+t;if(e===d(e))return n?new s(BigInt(e)):new a(e);throw new Error("Invalid integer: "+t)}var r="-"===t[0];r&&(t=t.slice(1));var i=t.split(/e/i);if(i.length>2)throw new Error("Invalid integer: "+i.join("e"));if(2===i.length){var o=i[1];if("+"===o[0]&&(o=o.slice(1)),(o=+o)!==d(o)||!c(o))throw new Error("Invalid integer: "+o+" is not a valid exponent.");var l=i[0],f=l.indexOf(".");if(f>=0&&(o-=l.length-f-1,l=l.slice(0,f)+l.slice(f+1)),o<0)throw new Error("Cannot include negative exponent part for integers");t=l+=new Array(o+1).join("0")}if(!/^([0-9][0-9]*)$/.test(t))throw new Error("Invalid integer: "+t);if(n)return new s(BigInt(r?"-"+t:t));for(var h=[],v=t.length,y=v-7;v>0;)h.push(+t.slice(y,v)),(y-=7)<0&&(y=0),v-=7;return p(h),new u(h,r)}function C(t){return"number"==typeof t?function(t){if(n)return new s(BigInt(t));if(c(t)){if(t!==d(t))throw new Error(t+" is not an integer.");return new a(t)}return Z(t.toString())}(t):"string"==typeof t?Z(t):"bigint"==typeof t?new s(t):t}u.prototype.toArray=function(t){return J(this,t)},a.prototype.toArray=function(t){return J(this,t)},s.prototype.toArray=function(t){return J(this,t)},u.prototype.toString=function(t,e){if(void 0===t&&(t=10),10!==t)return R(this,t,e);for(var r,n=this.value,i=n.length,o=String(n[--i]);--i>=0;)r=String(n[i]),o+="0000000".slice(r.length)+r;return(this.sign?"-":"")+o},a.prototype.toString=function(t,e){return void 0===t&&(t=10),10!=t?R(this,t,e):String(this.value)},s.prototype.toString=a.prototype.toString,s.prototype.toJSON=u.prototype.toJSON=a.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,a.prototype.valueOf=function(){return this.value},a.prototype.toJSNumber=a.prototype.valueOf,s.prototype.valueOf=s.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var G=0;G<1e3;G++)o[G]=C(G),G>0&&(o[-G]=C(-G));return o.one=o[1],o.zero=o[0],o.minusOne=o[-1],o.max=I,o.min=U,o.gcd=L,o.lcm=function(t,e){return t=C(t).abs(),e=C(e).abs(),t.divide(L(t,e)).multiply(e)},o.isInstance=function(t){return t instanceof u||t instanceof a||t instanceof s},o.randBetween=function(t,e,r){t=C(t),e=C(e);var n=r||Math.random,i=U(t,e),u=I(t,e).subtract(i).add(1);if(u.isSmall)return i.add(Math.floor(n()*u));for(var a=J(u,1e7).value,s=[],c=!0,l=0;l<a.length;l++){var f=c?a[l]:1e7,p=d(n()*f);s.push(p),p<f&&(c=!1)}return i.add(o.fromArray(s,1e7,!1))},o.fromArray=function(t,e,r){return F(t.map(C),C(e||10),r)},o}();t.hasOwnProperty("exports")&&(t.exports=i),void 0===(n=function(){return i}.call(e,r,e,t))||(t.exports=n)}).call(this,r(18)(t))},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(4)),o=n(r(10)),u=function(){function t(t){this.size=t}return t.prototype.deserialize=function(t){t.position+=this.size;var e=t.data.slice(t.position-this.size,t.position);if(e.length!==this.size)throw new i.default("FixedParser: read past end");return e},t.prototype.serialize=function(t){if(t.length!==this.size)throw new o.default("input data does not conform fixed size");return t},t}();e.default=u},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(4)),o=r(0),u=function(){function t(){}return t.prototype.deserialize=function(t){var e=o.unpackInteger(t).toJSNumber();t.position+=e;var r=t.data.slice(t.position-e,t.position);if(r.length!==e)throw new i.default("VariableParser: read past end");return r},t.prototype.serialize=function(t){return o.concat_byte_arrays([o.packInteger(t.length),t])},t}();e.default=u},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var r=this;return(r=e.error&&e.error.details&&e.error.details.length&&e.error.details[0].message?t.call(this,e.error.details[0].message)||this:e.processed&&e.processed.except&&e.processed.except.message?t.call(this,e.processed.except.message)||this:t.call(this,e.message)||this).json=e,r}return i(e,t),e}(Error);e.default=o},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(3)),o=r(0),u=function(){function t(t){this.attributes=t,this.reserved=4}return t.prototype.deserialize=function(t){for(var e={};t.position<t.data.length;){var r=o.unpackInteger(t);if(r.equals(0))break;var n=this.getAttribute(r.toJSNumber());e[n.name]=n.value.deserialize(t)}return e},t.prototype.serialize=function(t){for(var e=[],r=0;r<this.attributes.length;r++){var n=this.attributes[r];void 0!==t[n.name]&&(e.push(o.packInteger(r+this.reserved)),e.push(n.value.serialize(t[n.name])))}return e.push(o.packInteger(0)),o.concat_byte_arrays(e)},t.prototype.getAttribute=function(t){var e=t-this.reserved;if(e>=this.attributes.length)throw new i.default("attribute does not exists");return this.attributes[Number(e)]},t}();e.default=u},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(Error);e.default=o},function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function u(t){try{s(n.next(t))}catch(t){o(t)}}function a(t){try{s(n.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(u,a)}s((n=n.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var r,n,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,n=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=e.call(t,u)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=r(1),a=r(0),s=o(r(12)),c=function(){function t(t,e,r,o,u,a){var c=this;void 0===a&&(a=!0),this.api=t,this.id=r,this._data=new Promise((function(u,s){return n(c,void 0,void 0,(function(){var n,c;return i(this,(function(i){switch(i.label){case 0:return o?(u(o),[3,4]):[3,1];case 1:return i.trys.push([1,3,,4]),n=u,[4,t.queue.asset(e,r,a)];case 2:return n.apply(void 0,[i.sent()]),[3,4];case 3:return c=i.sent(),s(c),[3,4];case 4:return[2]}}))}))})),this._preset=new Promise((function(e,r){return n(c,void 0,void 0,(function(){var n,o;return i(this,(function(i){switch(i.label){case 0:return u?(e(u),[3,4]):[3,1];case 1:return i.trys.push([1,3,,4]),[4,this._data];case 2:return n=i.sent(),e(new s.default(t,n.preset_id,void 0,void 0,void 0,a)),[3,4];case 3:return o=i.sent(),r(o),[3,4];case 4:return[2]}}))}))}))}return t.prototype.preset=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._preset];case 1:return[2,t.sent()]}}))}))},t.prototype.backedTokens=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._data];case 1:return[2,t.sent().backed_core_tokens]}}))}))},t.prototype.immutableData=function(){return n(this,void 0,void 0,(function(){var t,e,r,n,o,s,c,l,f;return i(this,(function(i){switch(i.label){case 0:return[4,this.preset()];case 1:return[4,(t=i.sent()).scheme()];case 2:return e=i.sent(),[4,this._data];case 3:return r=i.sent(),[4,t.immutableData()];case 4:"string"==typeof(n=i.sent())&&(n={}),i.label=5;case 5:return i.trys.push([5,7,,8]),s=(o=Object).assign,c=[{},n],l=u.deserialize,f=[r.immutable_serialized_data],[4,e.format()];case 6:return[2,s.apply(o,c.concat([l.apply(void 0,f.concat([i.sent()]))]))];case 7:return i.sent(),[2,a.hex_encode(r.idata)];case 8:return[2]}}))}))},t.prototype.mutableData=function(){return n(this,void 0,void 0,(function(){var t,e,r,n,o,s,c,l,f;return i(this,(function(i){switch(i.label){case 0:return[4,this.preset()];case 1:return[4,(t=i.sent()).scheme()];case 2:return e=i.sent(),[4,this._data];case 3:return r=i.sent(),[4,t.mutableData()];case 4:"string"==typeof(n=i.sent())&&(n={}),i.label=5;case 5:return i.trys.push([5,7,,8]),s=(o=Object).assign,c=[{},n],l=u.deserialize,f=[r.mutable_serialized_data],[4,e.format()];case 6:return[2,s.apply(o,c.concat([l.apply(void 0,f.concat([i.sent()]))]))];case 7:return i.sent(),[2,a.hex_encode(r.mdata)];case 8:return[2]}}))}))},t.prototype.toObject=function(){return n(this,void 0,void 0,(function(){var t;return i(this,(function(e){switch(e.label){case 0:return t={id:this.id},[4,this.backedTokens()];case 1:return t.backedTokens=e.sent(),[4,this.immutableData()];case 2:return t.immutableData=e.sent(),[4,this.mutableData()];case 3:return t.mutableData=e.sent(),[4,this.preset()];case 4:return[4,e.sent().toObject()];case 5:return[2,(t.preset=e.sent(),t)]}}))}))},t}();e.default=c},function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function u(t){try{s(n.next(t))}catch(t){o(t)}}function a(t){try{s(n.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(u,a)}s((n=n.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var r,n,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,n=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=e.call(t,u)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=r(1),a=r(0),s=o(r(32)),c=o(r(13)),l=function(){function t(t,e,r,o,u,a){var l=this;void 0===a&&(a=!0),this.api=t,this.id=e,this._data=new Promise((function(o,u){return n(l,void 0,void 0,(function(){var n,s;return i(this,(function(i){switch(i.label){case 0:return r?(o(r),[3,4]):[3,1];case 1:return i.trys.push([1,3,,4]),n=o,[4,t.queue.preset(e,a)];case 2:return n.apply(void 0,[i.sent()]),[3,4];case 3:return s=i.sent(),u(s),[3,4];case 4:return[2]}}))}))})),this._scheme=new Promise((function(t,e){return n(l,void 0,void 0,(function(){var r,n;return i(this,(function(i){switch(i.label){case 0:return o?(t(o),[3,4]):[3,1];case 1:return i.trys.push([1,3,,4]),[4,this._data];case 2:return r=i.sent(),t(new c.default(this.api,r.scheme_name,void 0,a)),[3,4];case 3:return n=i.sent(),e(n),[3,4];case 4:return[2]}}))}))})),this._collection=new Promise((function(t,e){return n(l,void 0,void 0,(function(){var r,n;return i(this,(function(i){switch(i.label){case 0:return u?(t(u),[3,4]):[3,1];case 1:return i.trys.push([1,3,,4]),[4,this._data];case 2:return r=i.sent(),t(new s.default(this.api,r.collection_name,void 0,a)),[3,4];case 3:return n=i.sent(),e(n),[3,4];case 4:return[2]}}))}))}))}return t.prototype.collection=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._collection];case 1:return[2,t.sent()]}}))}))},t.prototype.scheme=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._scheme];case 1:return[2,t.sent()]}}))}))},t.prototype.immutableData=function(){return n(this,void 0,void 0,(function(){var t,e,r,n;return i(this,(function(i){switch(i.label){case 0:return[4,this._scheme];case 1:t=i.sent(),i.label=2;case 2:return i.trys.push([2,5,,7]),e=u.deserialize,[4,this._data];case 3:return r=[i.sent().immutable_serialized_data],[4,t.format()];case 4:return[2,e.apply(void 0,r.concat([i.sent()]))];case 5:return i.sent(),n=a.hex_encode,[4,this._data];case 6:return[2,n.apply(void 0,[i.sent().idata])];case 7:return[2]}}))}))},t.prototype.mutableData=function(){return n(this,void 0,void 0,(function(){var t,e,r,n;return i(this,(function(i){switch(i.label){case 0:return[4,this._scheme];case 1:t=i.sent(),i.label=2;case 2:return i.trys.push([2,5,,7]),e=u.deserialize,[4,this._data];case 3:return r=[i.sent().mutable_serialized_data],[4,t.format()];case 4:return[2,e.apply(void 0,r.concat([i.sent()]))];case 5:return i.sent(),n=a.hex_encode,[4,this._data];case 6:return[2,n.apply(void 0,[i.sent().mdata])];case 7:return[2]}}))}))},t.prototype.isTransferable=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._data];case 1:return[2,!!t.sent().transferable]}}))}))},t.prototype.isBurnable=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._data];case 1:return[2,!!t.sent().burnable]}}))}))},t.prototype.maxSupply=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._data];case 1:return[2,t.sent().max_supply]}}))}))},t.prototype.circulation=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._data];case 1:return[2,t.sent().issued_supply]}}))}))},t.prototype.toObject=function(){return n(this,void 0,void 0,(function(){var t;return i(this,(function(e){switch(e.label){case 0:return t={id:this.id},[4,this.collection()];case 1:return[4,e.sent().toObject()];case 2:return t.collection=e.sent(),[4,this.scheme()];case 3:return[4,e.sent().toObject()];case 4:return t.scheme=e.sent(),[4,this.immutableData()];case 5:return t.immutableData=e.sent(),[4,this.mutableData()];case 6:return t.mutableData=e.sent(),[4,this.isTransferable()];case 7:return t.transferable=e.sent(),[4,this.isBurnable()];case 8:return t.burnable=e.sent(),[4,this.maxSupply()];case 9:return t.maxSupply=e.sent(),[4,this.circulation()];case 10:return[2,(t.circulation=e.sent(),t)]}}))}))},t}();e.default=l},function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function u(t){try{s(n.next(t))}catch(t){o(t)}}function a(t){try{s(n.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(u,a)}s((n=n.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var r,n,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,n=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=e.call(t,u)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(2),u=function(){function t(t,e,r,o){var u=this;void 0===o&&(o=!0),this.api=t,this.name=e,this._data=new Promise((function(a,s){return n(u,void 0,void 0,(function(){var n,u;return i(this,(function(i){switch(i.label){case 0:return r?(a(r),[3,4]):[3,1];case 1:return i.trys.push([1,3,,4]),n=a,[4,t.queue.scheme(e,o)];case 2:return n.apply(void 0,[i.sent()]),[3,4];case 3:return u=i.sent(),s(u),[3,4];case 4:return[2]}}))}))}))}return t.prototype.author=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._data];case 1:return[2,t.sent().author]}}))}))},t.prototype.format=function(){return n(this,void 0,void 0,(function(){var t;return i(this,(function(e){switch(e.label){case 0:return t=o.ObjectSchema,[4,this._data];case 1:return[2,t.apply(void 0,[e.sent().format])]}}))}))},t.prototype.toObject=function(){return n(this,void 0,void 0,(function(){var t;return i(this,(function(e){switch(e.label){case 0:return t={},[4,this.author()];case 1:return t.author=e.sent(),[4,this._data];case 2:return[2,(t.format=e.sent().format,t)]}}))}))},t}();e.default=u},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(15));e.ExplorerApi=i.default;var o=n(r(16));e.RpcApi=o.default;var u=r(2);e.ObjectSchema=u.ObjectSchema;var a=r(1);e.deserialize=a.deserialize,e.serialize=a.serialize},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){this.endpoint=t};e.default=n},function(t,e,r){"use strict";(function(t){var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function u(t){try{s(n.next(t))}catch(t){o(t)}}function a(t){try{s(n.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(u,a)}s((n=n.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var r,n,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,n=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=e.call(t,u)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=o(r(8)),a=r(2),s=o(r(11)),c=o(r(33)),l=o(r(34)),f=o(r(12)),p=o(r(35)),h=o(r(13)),d=function(){function e(e,r,o){var u=this;void 0===o&&(o={rateLimit:4}),this.endpoint=e,this.contract=r,o.fetch?this.fetchBuiltin=o.fetch:this.fetchBuiltin=t.fetch,this.queue=new p.default(this,o.rateLimit),this.cache=new c.default,this._config=new Promise((function(t,e){return n(u,void 0,void 0,(function(){var r,n,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.get_table_rows({code:this.contract,scope:this.contract,table:"config"})];case 1:return 1!==(r=i.sent()).rows.length?[2,e("invalid config")]:((n=r.rows[0]).collection_format=a.ObjectSchema(n.collection_format),[2,t(n)]);case 2:return o=i.sent(),e(o),[3,3];case 3:return[2]}}))}))}))}return e.prototype.config=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._config];case 1:return[2,t.sent()]}}))}))},e.prototype.get_asset=function(t,e,r){return void 0===r&&(r=!0),n(this,void 0,void 0,(function(){return i(this,(function(n){return[2,new s.default(this,t,e,void 0,void 0,r)]}))}))},e.prototype.get_preset=function(t,e){return void 0===e&&(e=!0),n(this,void 0,void 0,(function(){return i(this,(function(r){return[2,new f.default(this,t,void 0,void 0,void 0,e)]}))}))},e.prototype.get_scheme=function(t,e){return void 0===e&&(e=!0),n(this,void 0,void 0,(function(){return i(this,(function(r){return[2,new h.default(this,t,void 0,e)]}))}))},e.prototype.get_offer=function(t,e){return void 0===e&&(e=!0),n(this,void 0,void 0,(function(){return i(this,(function(r){return[2,new l.default(this,t,void 0,void 0,void 0,e)]}))}))},e.prototype.get_account_offers=function(t,e){return void 0===e&&(e=!0),n(this,void 0,void 0,(function(){var r=this;return i(this,(function(n){switch(n.label){case 0:return[4,this.queue.account_offers(t)];case 1:return[2,n.sent().map((function(t){return new l.default(r,t.id,t,void 0,void 0,e)}))]}}))}))},e.prototype.get_account_assets=function(t,e){return void 0===e&&(e=!0),n(this,void 0,void 0,(function(){var r=this;return i(this,(function(n){switch(n.label){case 0:return[4,this.queue.account_assets(t)];case 1:return[2,n.sent().map((function(n){return new s.default(r,t,n.id,n,void 0,e)}))]}}))}))},e.prototype.get_table_rows=function(t){var e=t.code,r=t.scope,o=t.table,u=t.table_key,a=void 0===u?"":u,s=t.lower_bound,c=void 0===s?"":s,l=t.upper_bound,f=void 0===l?"":l,p=t.index_position,h=void 0===p?1:p,d=t.key_type,v=void 0===d?"":d;return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.fetch_rpc("/v1/chain/get_table_rows",{code:e,scope:r,table:o,table_key:a,lower_bound:c,upper_bound:f,index_position:h,key_type:v,limit:101,reverse:!1,show_payer:!1,json:!0})];case 1:return[2,t.sent()]}}))}))},e.prototype.fetch_rpc=function(t,e){return n(this,void 0,void 0,(function(){var r,n,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.fetchBuiltin(this.endpoint+t,{body:JSON.stringify(e),method:"POST"})];case 1:return[4,(r=i.sent()).json()];case 2:return n=i.sent(),[3,4];case 3:throw(o=i.sent()).isFetchError=!0,o;case 4:if(n.processed&&n.processed.except||!r.ok)throw new u.default(n);return[2,n]}}))}))},e}();e.default=d}).call(this,r(17))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){if(this.ALPHABET=t,t.length>=255)throw new TypeError("Alphabet too long");this.BASE_MAP=new Uint8Array(256);for(var e=0;e<this.BASE_MAP.length;e++)this.BASE_MAP[e]=255;for(var r=0;r<t.length;r++){var n=t.charAt(r),i=n.charCodeAt(0);if(255!==this.BASE_MAP[i])throw new TypeError(n+" is ambiguous");this.BASE_MAP[i]=r}this.BASE=t.length,this.LEADER=t.charAt(0),this.FACTOR=Math.log(this.BASE)/Math.log(256),this.iFACTOR=Math.log(256)/Math.log(this.BASE)}return t.prototype.encode=function(t){if(0===t.length)return"";for(var e=0,r=0,n=0,i=t.length;n!==i&&0===t[n];)n++,e++;for(var o=(i-n)*this.iFACTOR+1>>>0,u=new Uint8Array(o);n!==i;){for(var a=t[n],s=0,c=o-1;(0!==a||s<r)&&-1!==c;c--,s++)a+=256*u[c]>>>0,u[c]=a%this.BASE>>>0,a=a/this.BASE>>>0;if(0!==a)throw new Error("Non-zero carry");r=s,n++}for(var l=o-r;l!==o&&0===u[l];)l++;for(var f=this.LEADER.repeat(e);l<o;++l)f+=this.ALPHABET.charAt(u[l]);return f},t.prototype.decode=function(t){var e=this.decodeUnsafe(t);if(e)return e;throw new Error("Non-base"+this.BASE+" character")},t.prototype.decodeUnsafe=function(t){if(0===t.length)return new Uint8Array(0);var e=0;if(" "===t[e])return new Uint8Array(0);for(var r=0,n=0;t[e]===this.LEADER;)r++,e++;for(var i=(t.length-e)*this.FACTOR+1>>>0,o=new Uint8Array(i);t[e];){var u=this.BASE_MAP[t.charCodeAt(e)];if(255===u)return new Uint8Array(0);for(var a=0,s=i-1;(0!==u||a<n)&&-1!==s;s--,a++)u+=this.BASE*o[s]>>>0,o[s]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");n=a,e++}if(" "===t[e])return new Uint8Array(0);for(var c=i-n;c!==i&&0===o[c];)c++;var l=new Uint8Array(r+(i-c));l.fill(0,0,r);for(var f=r;c!==i;)l[f++]=o[c++];return l},t}();e.default=n},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(3)),o=r(21),u=function(){function t(t){if(void 0===o.ParserTypes[t])throw new i.default("attribute type '"+t+"' not defined");this.parser=o.ParserTypes[t]}return t.prototype.deserialize=function(t){return this.parser.deserialize(t)},t.prototype.serialize=function(t){return this.parser.serialize(t)},t}();e.default=u},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(22)),o=r(23),u=n(r(24)),a=n(r(25)),s=n(r(27)),c=n(r(28)),l=n(r(29));e.ParserTypes={int8:new l.default(1,!1),int16:new l.default(2,!1),int32:new l.default(4,!1),int64:new l.default(8,!1),uint8:new l.default(1,!0),uint16:new l.default(2,!0),uint32:new l.default(4,!0),uint64:new l.default(8,!0),fixed8:new u.default(1),fixed16:new u.default(2),fixed32:new u.default(4),fixed64:new u.default(8),bool:new i.default,bytes:new o.ByteParser,string:new c.default,ipfs:new s.default,float:new a.default(!1),double:new a.default(!0)}},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=function(t){function e(){return t.call(this,1)||this}return i(e,t),e.prototype.deserialize=function(e){return 1===t.prototype.deserialize.call(this,e)[0]},e.prototype.serialize=function(e){return t.prototype.serialize.call(this,new Uint8Array([e?1:0]))},e}(o(r(6)).default);e.default=u},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.deserialize=function(e){return t.prototype.deserialize.call(this,e)},e.prototype.serialize=function(e){return t.prototype.serialize.call(this,e)},e}(o(r(7)).default);e.ByteParser=u},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(0),s=u(r(6)),c=u(r(5)),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.deserialize=function(e){var r,n,i=t.prototype.deserialize.call(this,e).reverse(),u=c.default(0);try{for(var s=o(i),l=s.next();!l.done;l=s.next()){var f=l.value;u=(u=u.shiftLeft(8)).plus(f)}}catch(t){r={error:t}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return u=a.unsignInteger(u,this.size),this.size<=6?u.toJSNumber():u.toString()},e.prototype.serialize=function(e){var r=c.default(e),n=[];r=a.signInteger(r,this.size);for(var i=0;i<this.size;i++)n.push(r.and(255).toJSNumber()),r=r.shiftRight(8);return t.prototype.serialize.call(this,new Uint8Array(n))},e}(s.default);e.default=l},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=o(r(6)),a=r(26),s=function(t){function e(e){var r=t.call(this,e?8:4)||this;return r.isDouble=e,r}return i(e,t),e.prototype.deserialize=function(e){return this.isDouble?a.readDoubleLE(t.prototype.deserialize.call(this,e)):a.readFloatLE(t.prototype.deserialize.call(this,e))},e.prototype.serialize=function(e){var r=[];return this.isDouble?(a.writeDoubleLE(r,e),t.prototype.serialize.call(this,new Uint8Array(r))):(a.writeFloatLE(r,e),t.prototype.serialize.call(this,new Uint8Array(r)))},e}(u.default);e.default=s},function(t,e,r){"use strict";var n,i,o,u,a,s,c,l,f,p,h,d,v=!1;function y(t,e,r){var n=t[e++],i=t[e++],o=t[e++],u=t[e];return"bige"===r?256*(256*(256*n+i)+o)+u:256*(256*(256*u+o)+i)+n}function _(t,e,r,n){var i=e>>>24&255,o=e>>16&255,u=e>>8&255,a=255&e;"bige"===n?(t[r++]=i,t[r++]=o,t[r++]=u,t[r]=a):(t[r++]=a,t[r++]=u,t[r++]=o,t[r]=i)}function b(t,e,r,n,i){"bige"===i?(_(t,e,n,i),_(t,r,n+4,i)):(_(t,r,n,i),_(t,e,n+4,i))}"function"==typeof Float32Array&&(f=new Float32Array(1),p=new Uint8Array(f.buffer),f[0]=-1,v=0===p[3],n=function(t,e){return(e=e||0)<0||e+4>t.length?0:(p[0]=t[e++],p[1]=t[e++],p[2]=t[e++],p[3]=t[e],f[0])},o=function(t,e){return(e=e||0)<0||e+4>t.length?0:(p[3]=t[e++],p[2]=t[e++],p[1]=t[e++],p[0]=t[e],f[0])},i=function(t,e,r){r=r||0,f[0]=e,t[r++]=p[0],t[r++]=p[1],t[r++]=p[2],t[r]=p[3]},u=function(t,e,r){r=r||0,f[0]=e,t[r++]=p[3],t[r++]=p[2],t[r++]=p[1],t[r]=p[0]}),"function"==typeof Float64Array&&(h=new Float64Array(1),d=new Uint8Array(h.buffer),a=function(t,e){return(e=e||0)<0||e+8>t.length?0:(d[0]=t[e+0],d[1]=t[e+1],d[2]=t[e+2],d[3]=t[e+3],d[4]=t[e+4],d[5]=t[e+5],d[6]=t[e+6],d[7]=t[e+7],h[0])},c=function(t,e){return(e=e||0)<0||e+8>t.length?0:(d[7]=t[e+0],d[6]=t[e+1],d[5]=t[e+2],d[4]=t[e+3],d[3]=t[e+4],d[2]=t[e+5],d[1]=t[e+6],d[0]=t[e+7],h[0])},s=function(t,e,r){r=r||0,h[0]=e,t[r+0]=d[0],t[r+1]=d[1],t[r+2]=d[2],t[r+3]=d[3],t[r+4]=d[4],t[r+5]=d[5],t[r+6]=d[6],t[r+7]=d[7]},l=function(t,e,r){r=r||0,h[0]=e,t[r+0]=d[7],t[r+1]=d[6],t[r+2]=d[5],t[r+3]=d[4],t[r+4]=d[3],t[r+5]=d[2],t[r+6]=d[1],t[r+7]=d[0]});for(var w=new Array,g=0;g<1200;g++)w[g]=Math.pow(2,g);var m=new Array;for(g=0;g<1200;g++)m[g]=Math.pow(2,-g);function x(t){return t>=0?w[t]:m[-t]}x(-1023);function O(t,e,r){var n,i,o=y(t,e,r),u=y(t,e+4,r);"bige"===r?(n=o,i=u):(n=u,i=o);var a=4294967296*(1048575&n)+i,s=(2146435072&n)>>>20;return(n>>31||1)*(0===s?a?a*x(-1074):0:s<2047?a>=0?(1+2220446049250313e-31*a)*x(s-1023):0:a?NaN:1/0)}var A=Math.pow(2,-23),P=Math.pow(2,-127);function S(t,e,r){var n=y(t,e,r),i=8388607&n,o=(2139095040&n)>>>23;return(n>>31||1)*(0===o?i?i*A*2*P:0:o<255?(1+i*A)*x(o-127):i?NaN:1/0)}var M={exp:0,mant:0};function E(t){var e=0;return t>=2?(t*=x(-(e=j(1,t))))>=2&&(t/=2,e+=1):t<1&&((e=j(t,2))<=1023?t*=x(e):(t*=x(e-100),t*=x(100)),e=-e),M.exp=e,M.mant=t,M}var z=Math.pow(2,192);function j(t,e){for(var r=0;t*z<e;)t*=z,r+=192;for(;0x10000000000000000*t<e;)t*=0x10000000000000000,r+=64;for(;65536*t<e;)t*=65536,r+=16;for(;64*t<e;)t*=64,r+=6;for(;2*t<e;)t*=2,r+=1;return r}function k(t,e){return(t*=e)-Math.floor(t)!=.5||1&t?t+.5:t}function q(t,e,r,n){var i,o=0;e<0&&(o=2147483648,e=-e),e&&e<1/0?((i=E(e)).exp+=127,i.exp<=0?i.exp<=-25?(i.mant=0,i.exp=0):(i.mant=k(i.mant,x(22+i.exp)),i.exp=0,i.mant>=8388608&&(i.mant-=8388608,i.exp+=1)):(i.mant=k(i.mant-1,8388608),i.mant>=8388608&&(i.mant-=8388608,i.exp+=1),i.exp>254&&(i.mant=0,i.exp=255)),_(t,o|i.exp<<23|i.mant,r,n)):_(t,0===e?1/e<0?2147483648:0:e===1/0?2139095040|o:2143289344,r,n)}new Uint8Array(8);var D=Math.pow(2,52);function N(t,e,r,n){var i,o,u,a=0;e<0&&(a=2147483648,e=-e),e&&e<1/0?((i=E(e)).exp+=1023,i.exp<=0?(i.mant*=x(51+i.exp),i.exp=0):i.mant=(i.mant-1)*D,b(t,o=a|i.exp<<20|i.mant/4294967296,u=i.mant>>>0,r,n)):(0===e?(o=1/e<0?2147483648:0,u=0):e===1/0?(o=a+2146435072,u=0):(o=2146959360,u=0),b(t,o,u,r,n))}(function e(){var r=t.exports||this;r.readWord=y,r.writeWord=_,r.writeDoubleWord=b,r.readFloat=S,r.writeFloat=q,r.readDouble=O,r.writeDouble=N,r._useFloatArray=function(t){r._usingFloatArray=t,t?("full"==t&&(r.readFloatLE=v?o:n),r.writeFloatLE=v?u:i,"full"==t&&(r.readFloatBE=v?n:o),r.writeFloatBE=v?i:u,r.readDoubleLE=v?c:a,r.writeDoubleLE=v?l:s,r.readDoubleBE=v?a:c,r.writeDoubleBE=v?s:l):(r._usingFloatArray="",r.readFloatLE=function(t,e){return r.readFloat(t,e||0,"le")},r.writeFloatLE=function(t,e,n){r.writeFloat(t,e,n||0,"le")},r.readFloatBE=function(t,e){return r.readFloat(t,e||0,"bige")},r.writeFloatBE=function(t,e,n){r.writeFloat(t,e,n||0,"bige")},r.readDoubleLE=function(t,e){return r.readDouble(t,e||0,"le")},r.writeDoubleLE=function(t,e,n){r.writeDouble(t,e,n||0,"le")},r.readDoubleBE=function(t,e){return r.readDouble(t,e||0,"bige")},r.writeDoubleBE=function(t,e,n){r.writeDouble(t,e,n||0,"bige")})},r._getBigeCpu=function(){return v},r._setBigeCpu=function(t){v=t},r._useFloatArray(!1),r._useFloatArray(n&&a&&"fastest"),e.prototype=r}).call(this)},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=r(0),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.deserialize=function(e){return u.base58_encode(t.prototype.deserialize.call(this,e))},e.prototype.serialize=function(e){return t.prototype.serialize.call(this,u.base58_decode(e))},e}(o(r(7)).default);e.default=a},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.deserialize=function(e){return String.fromCharCode.apply(null,t.prototype.deserialize.call(this,e))},e.prototype.serialize=function(e){return t.prototype.serialize.call(this,(new TextEncoder).encode(e))},e}(o(r(7)).default);e.default=u},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=n(r(5)),u=function(){function t(t,e){this.size=t,this.unsigned=e}return t.prototype.deserialize=function(t){var e=i.unpackInteger(t,this.size);return this.unsigned||(e=i.zigzag_decode(e,this.size)),this.size<=6?e.toJSNumber():e.toString()},t.prototype.serialize=function(t){var e=o.default(t);return this.unsigned||(e=i.zigzag_encode(e,this.size)),i.packInteger(e,this.size)},t}();e.default=u},function(t,e,r){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=function(){function t(t){this.element=t}return t.prototype.deserialize=function(t){for(var e=i.unpackInteger(t).toJSNumber(),r=[],n=0;n<e;n++)r.push(this.element.deserialize(t));return r},t.prototype.serialize=function(t){var e,r,o=[i.packInteger(t.length)];try{for(var u=n(t),a=u.next();!a.done;a=u.next()){var s=a.value;o.push(this.element.serialize(s))}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}return i.concat_byte_arrays(o)},t}();e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){void 0===e&&(e=0),this.data=t,this.position=e};e.default=n,e.prepare=function(t){return new n(t,0)}},function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function u(t){try{s(n.next(t))}catch(t){o(t)}}function a(t){try{s(n.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(u,a)}s((n=n.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var r,n,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,n=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=e.call(t,u)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),u=function(){function t(t,e,r,o){var u=this;void 0===o&&(o=!0),this.api=t,this.name=e,this._data=new Promise((function(a,s){return n(u,void 0,void 0,(function(){var n,u;return i(this,(function(i){switch(i.label){case 0:return r?(a(r),[3,4]):[3,1];case 1:return i.trys.push([1,3,,4]),n=a,[4,t.queue.collection(e,o)];case 2:return n.apply(void 0,[i.sent()]),[3,4];case 3:return u=i.sent(),s(u),[3,4];case 4:return[2]}}))}))}))}return t.prototype.author=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._data];case 1:return[2,t.sent().author]}}))}))},t.prototype.authorizedAccounts=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._data];case 1:return[2,t.sent().authorized_accounts]}}))}))},t.prototype.notifyAccounts=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._data];case 1:return[2,t.sent().notify_accounts]}}))}))},t.prototype.data=function(){return n(this,void 0,void 0,(function(){var t,e;return i(this,(function(r){switch(r.label){case 0:return t=o.deserialize,[4,this._data];case 1:return e=[r.sent().serialized_data],[4,this.api.config()];case 2:return[2,t.apply(void 0,e.concat([r.sent().collection_format]))]}}))}))},t.prototype.toObject=function(){return n(this,void 0,void 0,(function(){var t;return i(this,(function(e){switch(e.label){case 0:return t={},[4,this.author()];case 1:return t.author=e.sent(),[4,this.authorizedAccounts()];case 2:return t.authorizedAccounts=e.sent(),[4,this.notifyAccounts()];case 3:return t.notifyAccounts=e.sent(),[4,this.data()];case 4:return[2,(t.data=e.sent(),t)]}}))}))},t}();e.default=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=function(){function t(){this.assets={},this.presets={},this.schemes={},this.collections={},this.offers={}}return t.prototype.asset=function(t,e){return e&&(e.mutable_serialized_data=new Uint8Array(e.mutable_serialized_data),e.immutable_serialized_data=new Uint8Array(e.immutable_serialized_data),e.backed_core_tokens=e.backed_core_tokens.replace(" WAX","")),this.access(t,this.assets,e)},t.prototype.preset=function(t,e){return e&&(e.mutable_serialized_data=new Uint8Array(e.mutable_serialized_data),e.immutable_serialized_data=new Uint8Array(e.immutable_serialized_data),e.max_supply=n.byte_vector_to_int(new Uint8Array(e.max_supply)),e.issued_supply=n.byte_vector_to_int(new Uint8Array(e.issued_supply))),this.access(t,this.presets,e)},t.prototype.scheme=function(t,e){return this.access(t,this.schemes,e)},t.prototype.collection=function(t,e){return this.access(t,this.collections,e)},t.prototype.offer=function(t,e){return this.access(t,this.offers,e)},t.prototype.access=function(t,e,r){return r?(e[String(t)]={expiration:Date.now()+9e5,data:r},r):void 0===e[String(t)]||e[String(t)].expiration<Date.now()?void 0:e[String(t)].data},t}();e.default=i},function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function u(t){try{s(n.next(t))}catch(t){o(t)}}function a(t){try{s(n.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(u,a)}s((n=n.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var r,n,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,n=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=e.call(t,u)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=o(r(11)),a=function(){function t(t,e,r,o,a,s){var c=this;void 0===s&&(s=!0),this.api=t,this.id=e,this._data=new Promise((function(t,o){return n(c,void 0,void 0,(function(){var n,u;return i(this,(function(i){switch(i.label){case 0:return r?(t(r),[3,4]):[3,1];case 1:return i.trys.push([1,3,,4]),n=t,[4,this.api.queue.offer(e,s)];case 2:return n.apply(void 0,[i.sent()]),[3,4];case 3:return u=i.sent(),o(u),[3,4];case 4:return[2]}}))}))})),this._senderAssets=new Promise((function(t,e){return n(c,void 0,void 0,(function(){var r,n,a,c,l,f,p=this;return i(this,(function(i){switch(i.label){case 0:return o?(t(o),[3,6]):[3,1];case 1:return i.trys.push([1,5,,6]),[4,this._data];case 2:return r=i.sent(),c=(a=this.api.queue).account_assets,[4,r.offer_sender];case 3:return[4,c.apply(a,[i.sent(),s])];case 4:return n=i.sent(),(l=n.filter((function(t){return r.sender_asset_ids.indexOf(t.id)>=0}))).length!==r.sender_asset_ids.length?[2,e(new Error("user does not own all items anymore"))]:(l=l.map((function(t){return new u.default(p.api,t.owner,t.id,t)})),[2,t(l)]);case 5:return f=i.sent(),[2,e(f)];case 6:return[2]}}))}))})),this._recipientAssets=new Promise((function(t,e){return n(c,void 0,void 0,(function(){var r,n,o,c,l,f,p=this;return i(this,(function(i){switch(i.label){case 0:return a?(t(a),[3,6]):[3,1];case 1:return i.trys.push([1,5,,6]),[4,this._data];case 2:return r=i.sent(),c=(o=this.api.queue).account_assets,[4,r.offer_recipient];case 3:return[4,c.apply(o,[i.sent(),s])];case 4:return n=i.sent(),(l=n.filter((function(t){return r.recipient_asset_ids.indexOf(t.id)>=0}))).length!==r.recipient_asset_ids.length?[2,e(new Error("user does not own all items anymore"))]:(l=l.map((function(t){return new u.default(p.api,t.owner,t.id,t)})),[2,t(l)]);case 5:return f=i.sent(),[2,e(f)];case 6:return[2]}}))}))}))}return t.prototype.sender=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._data];case 1:return[2,t.sent().offer_sender]}}))}))},t.prototype.recipient=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._data];case 1:return[2,t.sent().offer_recipient]}}))}))},t.prototype.senderAssets=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._senderAssets];case 1:return[2,t.sent()]}}))}))},t.prototype.recipientAssets=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._recipientAssets];case 1:return[2,t.sent()]}}))}))},t.prototype.memo=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._data];case 1:return[2,t.sent().memo]}}))}))},t.prototype.toObject=function(){return n(this,void 0,void 0,(function(){var t,e,r,o,u,a,s,c=this;return i(this,(function(l){switch(l.label){case 0:return t={id:this.id},e={},[4,this.sender()];case 1:return e.account=l.sent(),o=(r=Promise).all,[4,this.senderAssets()];case 2:return[4,o.apply(r,[l.sent().map((function(t){return n(c,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,t.toObject()];case 1:return[2,e.sent()]}}))}))}))])];case 3:return t.sender=(e.assets=l.sent(),e),u={},[4,this.recipient()];case 4:return u.account=l.sent(),s=(a=Promise).all,[4,this.recipientAssets()];case 5:return[4,s.apply(a,[l.sent().map((function(t){return n(c,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,t.toObject()];case 1:return[2,e.sent()]}}))}))}))])];case 6:return t.recipient=(u.assets=l.sent(),u),[4,this.memo()];case 7:return[2,(t.memo=l.sent(),t)]}}))}))},t}();e.default=a},function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function u(t){try{s(n.next(t))}catch(t){o(t)}}function a(t){try{s(n.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(u,a)}s((n=n.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var r,n,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,n=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=e.call(t,u)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=o(r(8)),a=function(){function t(t,e){void 0===e&&(e=4),this.api=t,this.requestLimit=e,this.elements=[],this.interval=null}return t.prototype.asset=function(t,e,r){return void 0===r&&(r=!0),n(this,void 0,void 0,(function(){return i(this,(function(n){return[2,this.fetch_single_row(t,"assets",e,this.api.cache.asset.bind(this.api.cache),r)]}))}))},t.prototype.account_assets=function(t,e){return void 0===e&&(e=!0),n(this,void 0,void 0,(function(){return i(this,(function(r){return[2,this.fetch_all_rows(t,"assets","id","","",this.api.cache.asset.bind(this.api.cache),e)]}))}))},t.prototype.preset=function(t,e){return void 0===e&&(e=!0),n(this,void 0,void 0,(function(){return i(this,(function(r){return[2,this.fetch_single_row(this.api.contract,"presets",t,this.api.cache.preset.bind(this.api.cache),e)]}))}))},t.prototype.scheme=function(t,e){return void 0===e&&(e=!0),n(this,void 0,void 0,(function(){return i(this,(function(r){return[2,this.fetch_single_row(this.api.contract,"schemes",t,this.api.cache.scheme.bind(this.api.cache),e)]}))}))},t.prototype.collection=function(t,e){return void 0===e&&(e=!0),n(this,void 0,void 0,(function(){return i(this,(function(r){return[2,this.fetch_single_row(this.api.contract,"collections",t,this.api.cache.collection.bind(this.api.cache),e)]}))}))},t.prototype.offer=function(t,e){return void 0===e&&(e=!0),n(this,void 0,void 0,(function(){return i(this,(function(r){return[2,this.fetch_single_row(this.api.contract,"offers",t,this.api.cache.offer.bind(this.api.cache),e)]}))}))},t.prototype.account_offers=function(t,e){return void 0===e&&(e=!0),n(this,void 0,void 0,(function(){var r;return i(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this.fetch_all_rows(this.api.contract,"offers","offer_sender",t,t,this.api.cache.offer.bind(this.api.cache),e,2,"name"),this.fetch_all_rows(this.api.contract,"offers","offer_recipient",t,t,this.api.cache.offer.bind(this.api.cache),e,3,"name")])];case 1:return[2,(r=n.sent())[0].concat(r[1])]}}))}))},t.prototype.dequeue=function(){var t=this;this.interval||(this.interval=setInterval((function(){return n(t,void 0,void 0,(function(){return i(this,(function(t){return this.elements.length>0?this.elements.shift()():(clearInterval(this.interval),this.interval=null),[2]}))}))}),Math.ceil(1e3/this.requestLimit)))},t.prototype.fetch_single_row=function(t,e,r,o,a,s,c){return void 0===o&&(o=null),void 0===a&&(a=!0),void 0===s&&(s=1),void 0===c&&(c=""),n(this,void 0,void 0,(function(){var l,f=this;return i(this,(function(p){return l=a?o(r):null,[2,new Promise((function(p,h){if(l)return p(l);f.elements.push((function(){return n(f,void 0,void 0,(function(){var n,f;return i(this,(function(i){switch(i.label){case 0:if(l=a?o(r):null)return this.elements.length>0&&this.elements.shift()(),[2,p(l)];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.api.get_table_rows({code:this.api.contract,table:e,scope:t,limit:1,lower_bound:r,upper_bound:r,index_position:s,key_type:c})];case 2:return 1!==(n=i.sent()).rows.length?[2,h(new u.default("row not found '"+r+"'"))]:[2,p(o(r,n.rows[0]))];case 3:return f=i.sent(),[2,h(f)];case 4:return[2]}}))}))})),f.dequeue()}))]}))}))},t.prototype.fetch_all_rows=function(t,e,r,o,u,a,s,c,l){return void 0===o&&(o=""),void 0===u&&(u=""),void 0===s&&(s=!0),void 0===c&&(c=1),void 0===l&&(l=""),n(this,void 0,void 0,(function(){var f=this;return i(this,(function(p){return[2,new Promise((function(p,h){return n(f,void 0,void 0,(function(){var f=this;return i(this,(function(d){return this.elements.push((function(){return n(f,void 0,void 0,(function(){var f,d=this;return i(this,(function(v){switch(v.label){case 0:return[4,this.api.get_table_rows({code:this.api.contract,scope:t,table:e,lower_bound:o,upper_bound:u,limit:100,index_position:c,key_type:l})];case 1:return(f=v.sent()).more&&1===c?(this.elements.unshift((function(){return n(d,void 0,void 0,(function(){var n,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.fetch_all_rows(t,e,r,f.rows[f.rows.length-1][r],u,a,s)];case 1:return(n=i.sent()).shift(),n=n.map((function(t){return a(t[r],t)})),p(f.rows.concat(n)),[3,3];case 2:return o=i.sent(),h(o),[3,3];case 3:return[2]}}))}))})),this.dequeue()):p(f.rows),[2]}}))}))})),this.dequeue(),[2]}))}))}))]}))}))},t}();e.default=a}]);